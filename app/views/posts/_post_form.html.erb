<div>
    <%= form_with model: @post, data: {turbo: false} do |f|%>
        <div class="mb-4">
            <%= render "shared/error_message", object: f.object%>
        </div>
        <div class="flex gap-4">
            <div>Image</div>
            <%= f.text_area :body, placeholder: "Share something", class: "w-full text-gray-300 bg-zinc-700 px-3 py-1.5 border border-solid border-gray-700 rounded-lg" %>
        </div>
        <div class="flex justify-center mt-4 items-center">
            <div><%= f.file_field :image, accept: "image/jpeg,image/gif,image/png" %></div>
            <%= f.submit "Create Post", class:"border border-gray-900 px-3 py-1.5 hover:bg-gray-700 rounded-lg text-gray-400 font-bold" %>
        </div>
    <% end %>
</div>

<script type="text/javascript">
    $("#post_image").bind("change", function() {
        const size_in_megabytes = this.files[0].size/1024/1024;
        if (size_in_megabytes > 5) {
            alert("Maximum file size is 5MB. Please choose a smaller file.");
            $("#post_image").val("");
        }
    });
</script>